
<!-- POPUP AVISO INICIAL -->
  <div class="row pop-aviso" ng-if="$ctrl.avisoPop" ng-click="$ctrl.avisoPop = false">
    <!--POPUP AVISO SERVICIO BASE-->
    <div class=" col s12 m12">
      <div class="card col m4 offset-m4 tarjeta-aviso">
        <div class="card-content white">
          <img ng-src="assets/img/Group.png" class="col s6 m4">
          <span class=" col s6 m8">Recuerda que en 3 horas (servicio base), tu Jelpmi puede realizar la limpieza de: 2 recamaras, 2 baños, sala, comedor y cocina</span>
          <button class="col s12 m12 btn" ng-click="$ctrl.avisoPop = false;$ctrl.cambio()">Entendido</button>
        </div>
      </div>
    </div>  
  </div>

  <!--POPUP DE SERVICIO GUARDADO-->
  <div class="row pop-aviso" ng-if="$ctrl.servicioGuardado">
    <div class="col s12 m12">
      <div class="card col m4 offset-m4 tarjeta-aviso">
        <div class="card-content white col m12">
          <img ng-src="assets/img/Group.png" alt="" class="col s6 m4">
          <span class="col s6 m8">Tu servicio se ha agendado exitosamente con el número de servicio: <h5>{{$ctrl.codeServ}}</h5></span>
        </div>
        <div class="col m12 center">
          <button class="btn" ng-click="$ctrl.regresarHome();">Entendido</button>
        </div>
      </div>
    </div>
  </div>
  <!--POPUP CONFIRMACION BORRAR DIRECCION-->
  <div class="row pop-aviso" ng-if="$ctrl.flagBorrarDireccion">
    <div class="col s12 m12">
      <div class="card col m4 offset-m4 tarjeta-aviso">
        <div class="card-content white">
          <span>Estás a punto de borrar una de tus direcciones. ¿Estás seguro?</span>
          <button class="btn" ng-click="$ctrl.borrarDireccion(); $ctrl.flagBorrarDireccion = false">Borrar</button>
          <button class="btn" ng-click="$ctrl.flagBorrarDireccion = false">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
  <!--POPUP CONFIRMACION BORRAR TARJETA-->
  <div class="row pop-aviso" ng-if="$ctrl.flagBorrarTarjeta">
    <div class="col s12 m12">
      <div class="card col m4 offset-m4 tarjeta-aviso">
        <div class="card-content white">
          <span>Estás a punto de borrar una de tus direcciones. ¿Estás seguro?</span>
          <button class="btn" ng-click="$ctrl.borrarTarjeta(); $ctrl.flagBorrarTarjeta = false">Borrar</button>
          <button class="btn" ng-click="$ctrl.flagBorrarTarjeta = false; $ctrl.cardParaBorrar = null">Cancelar</button>
        </div>
      </div>
    </div>
  </div>


<!-- Contenido del componente -->
<div class="container row agendado" ng-show="!$ctrl.promo">
    
    <!-- Total del servicio agendado -->
  <div class="row total-servicio">
    <div class="col s12 m12">
      <div class="card">
        <div class="card-content white">
          <span class="card-title total-desktop">Ticket</span>
          <span class="card-title total-mobile">Total</span>

          <div class="row">
            <div class="col s8 m8">Tu servicio base es : </div>
            <div class="col s4 m4" style="margin-left: -8px;">{{$ctrl.total | currency: "$"}}</div>
          </div>
          <div class="row" ng-if="item.count" ng-repeat="item in $ctrl.items">
            <div class="col s6 m6">{{item.name}}</div>
            <div class="col s2 m2">{{item.count}}</div>
            <div class="col s4 m4" style="margin-left: -8px;">{{item.partial | currency : "$"}}</div>
          </div>
          <div class="row">
            <div class="col s8 m8 ">
              Tu total es
            </div>
            <div class="col s4 m4" style="margin-left: -8px;">
              {{$ctrl.real_total | currency : "$"}}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col s12">
      <!-- Mensaje de confirmación de servicio agendado -->
    <div class="card col m8 offset-m2 purple lighten-1" ng-hide="!$ctrl.succes">
      <div class="card-content  white-text sendNotification center">
        <p>¡Tu servicio se ha agendado!</p>
        <p>Total: ${{$ctrl.total}}</p>
        <a href="#/" class="waves-effect purple lighten-3 waves-light btn" >Genial</a>
      </div>
    </div>
      <!-- Formulario agendar servicio -->
    <div class="col s12 m10 offset-m1  card-panel card-agendado" style="background: #eae9ec" ng-hide="$ctrl.segundoPaso">
      <div class="agendado-contenido container">
        <h4 class="center">Servicio agendado!</h4>
        <!--<form id="agendado" name="agendado"  novalidate>-->


        <div class="row">
      <!-- Direccion -->
          <!-- Mostrando las Direcciones -->
          <div ng-if="$ctrl.mostrarDireccion" class="card-panel">
              <div class="row" >
                <div ng-if="!$ctrl.flagNecesitaDireccion">
                  <h5 class="col s12 m12 purple-text lighten-1 center">Elige tu dirección</h5>
                  <div class="col s12 m12" ng-repeat="direccion in $ctrl.direccionesArray">
                    <div class="col m12 card hoverable card-mostrar-direcciones" id="{{direccion.code}}2">
                      <a href="">
                        <div class="card-content datos-mostrar-direcciones black-text" id="{{direccion.code}}" ng-click="$ctrl.selectDireccion(direccion)">
                          <p class="center">{{direccion.calle}} {{direccion.numExt}}, {{direccion.colonia}}, {{direccion.delegacion}} </p>
                        </div>
                      </a>
                      <div class="botones-mostrar-direcciones">
                        <a href="" class=" right red-text col m2" ng-click="$ctrl.confirmarBorrarDireccion(direccion)">Borrar</a>
                        <a href="" class="right blue-text text-darken-2 col m2" ng-click="$ctrl.editarDireccion(direccion)">Editar</a>
                      </div>
                    </div>
                  </div>
                  <a href="" ng-click="$ctrl.flagNuevaDireccion = true; $ctrl.mostrarDireccion = false; $ctrl.limpiarFormulario(); $ctrl.flagDireccionLocked = false">Agregar nueva direccion</a>
                </div>

                <div ng-if="$ctrl.flagNecesitaDireccion">
                  <a href="" ng-click="$ctrl.flagNuevaDireccion = true; $ctrl.mostrarDireccion = false">
                    <h5 class="center">Agrega una dirección para poder reservar un servicio</h5>
                  </a>
                  <div class="col m12 center">
                    <button class="btn" ng-click="$ctrl.flagNuevaDireccion = true; $ctrl.mostrarDireccion = false">Agregar dirección</button>
                  </div>

                </div>
              </div>
            </div>

          <!--AGREGAR NUEVA DIRECCION-->
          <div ng-if="$ctrl.flagNuevaDireccion">
            <form id="formNuevaDireccion" name="formNuevaDireccion" novalidate ng-submit="$ctrl.nuevaDireccion()">
              <h5 class="col s12 m12 purple-text lighten-1 center" ng-if="!$ctrl.flagTieneDireccion">Ingresa la dirección donde será el servicio</h5>
              <div class="input-field col s12 m6">
                <input type="number" min="1000" max="16910" maxlength="6" id="agendadoNuevaCp" class="form-control validate" ng-model="$ctrl.cp" ng-change="$ctrl.testCp($ctrl.cp)">
                <label for="agendadoNuevaCp" data-error="Ingresa un código postal válido">Código Postal</label>
              </div>
              <div class="input-field col m6">
                <input value="chales" type="text" id="agendadoNuevaColonia" list="cityname" ng-model="$ctrl.colonia" autocomplete="off">
                <datalist id="cityname" >
                  <div ng-repeat="colonia in $ctrl.coloniaArray">
                    <option value="{{colonia}}">
                  </div>
                </datalist>
                <label for="agendadoNuevaColonia" class="active">Colonia</label>
              </div>
              <div class="input-field col s12 m6">
                <p id="agendadoNuevaDelegacion" style="border-bottom: solid 1px #9e9e9e;padding-bottom: 8px;">{{$ctrl.delegacion}}
                  <br></p>
                <label for="agendadoNuevaDelegacion" data-error="No puedes dejar este campo vacío" class="active">Delegación</label>
              </div>
              <div class="input-field col s12 m6">
                <input id="agendadoNuevaCalle" type="text" class="form-control validate" ng-model="$ctrl.calle" required>
                <label for="agendadoNuevaCalle"data-error="No puedes dejar este campo vacío">Calle</label>
              </div>
              <div class="input-field col s12 m6">
                <input id="agendadoNuevaExterior" type="text" class="form-control validate" ng-model="$ctrl.numExt" required>
                <label for="agendadoNuevaExterior" data-error="No puedes dejar este campo vacío">Número ext</label>
              </div>
              <div class="input-field col s12 m6 ">
                <input id="agendadoNuevaInterior" type="text" class="form-control validate" ng-model="$ctrl.numInt">
                <label for="agendadoNuevaInterior" data-error="No puedes dejar este campo vacío">Número int</label>
              </div>
              <h6 class="col s12 m12  grey-text">¿Entre qué calles se encuentra?</h6>
              <div class="input-field col s12 m12">
                <input id="agendadoNuevaCalle1" type="text" class="form-control validate" ng-model="$ctrl.calle1">
                <label for="agendadoNuevaCalle1" data-error="No puedes dejar este campo vacío"></label>
              </div>
              <div>
                <button class="btn" type="submit" ng-disabled="formNuevaDireccion.$invalid">Guardar</button>
                <a href="" ng-click="$ctrl.mostrarDireccion = true; $ctrl.flagNuevaDireccion = false; $ctrl.limpiarFormulario()">Atrás</a>
              </div>
            </form>
          </div>

            <!--Editando direccion-->
          <div ng-if="$ctrl.editar">
              <form id="formPrimerDireccion" name="formPrimerDireccion" novalidate ng-submit="$ctrl.guardarEditarDireccion()">
                <h5 class="col m12 purple-text lighten-1 center">Edita tu dirección</h5>
                <div class="input-field col s12 m6">
                  <input type="number" min="1000" max="16910" maxlength="6" id="agendado-editar-cp" class="form-control validate" ng-model="$ctrl.cp" ng-change="$ctrl.testCp($ctrl.cp)">
                  <label for="agendado-editar-cp" data-error="Ingresa un código postal válido" class="active">Código Postal</label>
                </div>
                <div class="input-field col m6">
                  <input value="" type="text" id="agendado-editar-colonia" list="cityname1" ng-model="$ctrl.colonia" autocomplete="off">
                  <datalist id="cityname1" >
                    <div ng-repeat="colonia in $ctrl.coloniaArray">
                      <option value="{{colonia}}">
                    </div>
                  </datalist>
                  <label for="agendado-editar-colonia" class="active">Colonia</label>
                </div>
                <div class="input-field col s12 m6">
                  <p id="agendado-editar-delegacion" style="border-bottom: solid 1px #9e9e9e;padding-bottom: 8px;">{{$ctrl.delegacion}}</p>
                  <label for="agendado-editar-delegacion" data-error="No puedes dejar este campo vacío" class="active">Delegación</label>
                </div>
                <div class="input-field col s12 m6">
                  <input id="agendado-editar-calle" type="text" class="form-control validate" ng-model="$ctrl.calle" required>
                  <label for="agendado-editar-calle"data-error="No puedes dejar este campo vacío" class="active">Calle</label>
                </div>
                <div class="input-field col s12 m6">
                  <input id="agendado-editar-exterior" type="text" class="form-control validate" ng-model="$ctrl.numExt" required>
                  <label for="agendado-editar-exterior" data-error="No puedes dejar este campo vacío" class="active">Número ext</label>
                </div>
                <div class="input-field col s12 m6 ">
                  <input id="agendado-editar-interior" type="text" class="form-control validate" ng-model="$ctrl.numInt">
                  <label for="agendado-editar-interior" data-error="No puedes dejar este campo vacío" class="active">Número int</label>
                </div>
                <h6 class="col s12 m12  grey-text">¿Entre qué calles se encuentra?</h6>
                <div class="input-field col s12 m6">
                  <input id="agendado-editar-calle1" type="text" class="form-control validate" ng-model="$ctrl.calle1">
                  <label for="agendado-editar-calle1" data-error="No puedes dejar este campo vacío" class="active"></label>
                </div>
                <div class="input-field col s12 m6">
                  <input id="agendado-editar-calle2" type="text" class="form-control validate" ng-model="$ctrl.calle2">
                  <label for="agendado-editar-calle2" data-error="No puedes dejar este campo vacío" class="active"></label>
                </div>
                <button class="btn" type="submit" ng-disabled="formPrimerDireccion.$invalid">Guardar</button>
                <a href="" ng-click="$ctrl.editar = false; $ctrl.mostrarDireccion = true; $ctrl.limpiarFormulario(); $ctrl.flagDireccionLocked = false">Atras</a>
              </form>
            </div>

            <!-- AGREGAR DIRECCION PRIMERA DIRECCIÓN CON FORMULARIO DE SERVICIO -->
          <div class="agregar-primera-direccion" style="height: 300px;" ng-hide="$ctrl.flagNuevaDireccion">
              <form id="formSubirDireccion" name="formSubirDireccion">
                <div ng-if="!$ctrl.flagTieneDireccion" style="display: inline-block" class="card-panel">
                  <h5 class="col s12 m12 purple-text lighten-1 center" ng-if="!$ctrl.flagTieneDireccion">Ingresa la dirección donde será el servicio</h5>
                  <div class="input-field col s12 m6">
                    <input type="number" min="1000" max="16910" maxlength="6" id="agendado-cp" class="form-control validate" ng-model="$ctrl.cp" ng-change="$ctrl.testCp($ctrl.cp)">
                    <label for="agendado-cp" data-error="Ingresa un código postal válido">Código Postal</label>
                  </div>
                  <div class="input-field col m6">
                    <input value="chales" type="text" id="agendado-colonia" list="cityname2" ng-model="$ctrl.colonia" autocomplete="off">
                    <datalist id="cityname2" >
                      <div ng-repeat="colonia in $ctrl.coloniaArray">
                        <option value="{{colonia}}">
                      </div>
                    </datalist>
                    <label for="agendado-colonia" class="active">Colonia</label>
                  </div>
                  <div class="input-field col s12 m6">
                    <p id="agendado-delegacion" style="border-bottom: solid 1px #9e9e9e;padding-bottom: 8px;">{{$ctrl.delegacion}}
                      <br></p>
                    <label class="active" for="agendado-delegacion" data-error="No puedes dejar este campo vacío">Delegación</label>
                  </div>
                  <div class="input-field col s12 m6">
                    <input id="agendado-calle" type="text" class="form-control validate" ng-model="$ctrl.calle" required>
                    <label for="agendado-calle"data-error="No puedes dejar este campo vacío">Calle</label>
                  </div>
                  <div class="input-field col s12 m6">
                    <input id="agendado-exterior" type="text" class="form-control validate" ng-model="$ctrl.numExt" required>
                    <label for="agendado-exterior" data-error="No puedes dejar este campo vacío">Número ext</label>
                  </div>
                  <div class="input-field col s12 m6 ">
                    <input id="agendado-interior" type="text" class="form-control validate" ng-model="$ctrl.numInt">
                    <label for="agendado-interior" data-error="No puedes dejar este campo vacío">Número int</label>
                  </div>
                  <h6 class="col s12 m12  grey-text">¿Entre qué calles se encuentra?</h6>
                  <div class="input-field col s12 m12">
                    <input id="agendado-calle1" type="text" class="form-control validate" ng-model="$ctrl.calle1">
                    <label for="agendado-calle1" data-error="No puedes dejar este campo vacío"></label>
                  </div>
                </div>

              <!--Detalles del servicio-->
                <div class="card-panel" style="float: left;">
                  <div class="agendado-detalles">
                    <h5 ng-hide="agendado.$invalid" class="col s12 m12 purple-text lighten-1 center">Sobre el servicio</h5>
                    <!-- Datos del servicio -->
                    <div>
                      <div class="input-field col s12 m4" >
                        <select id="agendado-periodo">
                          <option value="" disabled selected>Periodicidad</option>
                          <option value="1">Semanal</option>
                          <option value="2">Quincenal</option>
                          <option value="3">Mensual</option>
                          <option value="4">Cada 21 días</option>
                        </select>
                        <label></label>
                      </div>
                      <div class="input-field col s12 m4">
                        <input id="agendado-inicio" type="date" class="datepicker" required>
                        <label for="agendado-inicio" class="active">Fecha inicio</label>
                      </div>
                      <div class="input-field col s12 m4" >
                        <select id="agendado-horario">
                          <option value="" disabled selected>¿A qué hora?</option>
                          <option value="1">7:00 am</option>
                          <option value="2">8:00 am</option>
                          <option value="3">9:00 am</option>
                          <option value="4">10:00 am</option>
                          <option value="5">11:00 am</option>
                          <option value="5">12:00 pm</option>
                          <option value="6">1:00 pm</option>
                          <option value="7">2:00 pm</option>
                          <option value="8">3:00 pm</option>
                          <option value="9">4:00 pm</option>
                          <option value="10">5:00 pm</option>
                          <option value="11">6:00 pm</option>
                          <option value="12">7:00 pm</option>
                        </select>
                        <label></label>
                      </div>
                    </div>
                  </div>
                  <div>
                    <div class="adicionales-btn">
                      <!-- Botón de código promocional -->
                      <a class="col s12 m10 offset-m1 waves-effect purple lighten-3 waves-purple lighten-2 btn boton-codigo-promocion" ng-click="$ctrl.promo = true" style="font-size: .8em">¿Tienes un código promocional?</a>
                    </div>
                    <div class="agendado-btn offset-m2 col s12 m12">
                      <a href="#/" class="waves-effect waves-purple lighten-2 btn-flat col m4 center pull-m2" ng-click="$ctrl.test()">Atrás</a>
                      <button ng-if="!$ctrl.flagTieneDireccion" class="boton-enviar btn waves-effect lighten-1 waves-light col m6" type="submit" ng-disabled="formSubirDireccion.$invalid"  ng-click="$ctrl.enviarServicio()" name="action">Siguiente
                      </button>
                      <button ng-if="$ctrl.flagTieneDireccion" class="boton-enviar btn waves-effect lighten-1 waves-light col m6" type="submit" ng-disabled="!$ctrl.flagDireccionLocked"  ng-click="$ctrl.enviarServicio()" name="action">Siguiente
                      </button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
        </div>
      </div>
    </div>



    <div class="col s12 m10 offset-m1  card-panel segundo-paso" style="background: #eae9ec" ng-show="$ctrl.segundoPaso">
      <div class="">
        <h4 class="center">Pedir servicio</h4>
        <div class="col m10 offset-m1 card-panel" ng-if="!$ctrl.adicionales" style="margin-top: 40px;margin-bottom: 40px;">
          <h5 class="center purple-text">¿Necesitas algo más?</h5>
          <button class="btn-large col m6 offset-m3" id="btnAdicionales" style="margin-bottom: 20px;" ng-click="$ctrl.adicionales = true; $ctrl.testing()">Agregar adicionales</button>
        </div>
        <div class="card-panel col m10 offset-m1 adicionales-block" ng-if="$ctrl.adicionales">
          <h5 class="purple-text center">Puedes agregar adicionales</h5>
          <div class="card-content adicionales-item col s6 m4 center" ng-repeat="item in $ctrl.items track by $index" id="{{item.code}}1">
            <img ng-click="$ctrl.incremento(item)" class="hoverable" ng-src="assets/img/png/{{item.icon}}" style="height: 80px; width: 80px; border-radius: 5%;" alt="">
            <div>
              <span ng-bind="item.name"></span>
              <br>
              <span>Hora extra: {{item.price | currency:"$"}}</span>
              <div>
                <a href=""><i class="material-icons" id="{{item.code}}" ng-click="$ctrl.decremento(item)">remove</i></a>
                <span>{{item.count}} Hr.</span>
                <a href=""><i class="material-icons"  ng-click="$ctrl.incremento(item)">add</i></a>
              </div>
            </div>
          </div>
          <div class="col m12">
            <button class="btn col m6 offset-m3" ng-click="$ctrl.adicionales = false" style="margin-bottom: 20px">Listo</button>
          </div>
        </div>

        <div class="col m10 offset-m1 container form-pago card-panel" style="display: inline-block;" ng-if="!$ctrl.flagPerfilStripe">
          <form id="pago1" name="pago1">
            <h5 class="col m12 purple-text lighten-1 center">Información de pago</h5>
            <div class="input-field col s12 m6">
              <input id="pagoNombre1" type="text" class="form-control validate" ng-model="$ctrl.pagoNombre" required>
              <label for="pagoNombre1"data-error="No puedes dejar este campo vacío" >Nombre tarjetahabiente</label>
            </div>
            <div class="input-field col s12 m6">
              <input id="pagoTarjetaNumero1" type="text" class="form-control validate" ng-model="$ctrl.pagoTarjetaNumero" required>
              <label for="pagoTarjetaNumero1"data-error="No puedes dejar este campo vacío" >Numero de tarjeta</label>
            </div>
            <div class="input-field col s12 m3">
              <input id="pagoTarjetaExpMes1" type="text" class="form-control validate" ng-model="$ctrl.pagoTarjetaExpMes" required>
              <label for="pagoTarjetaExpMes1"data-error="No puedes dejar este campo vacío" >Mes expira</label>
            </div>
            <div class="input-field col s12 m3">
              <input id="pagoTarjetaExpAnio1" type="text" class="form-control validate" ng-model="$ctrl.pagoTarjetaExpAnio" required>
              <label for="pagoTarjetaExpAnio1"data-error="No puedes dejar este campo vacío" >Año expira</label>
            </div>
            <div class="input-field col s12 m6">
              <input id="pagoTarjetaCcv1" type="text" class="form-control validate" ng-model="$ctrl.pagoTarjetaCcv" required>
              <label for="pagoTarjetaCcv1"data-error="No puedes dejar este campo vacío" >CCV</label>
            </div>
            <div class="col m12" style="margin-bottom: 50px; margin-top: 40px;">
              <button class="btn col offset-m2" ng-click="$ctrl.primeraVez()">Agregar método de pago</button>
            </div>
          </form>
        </div>


        <div class="col m10 offset-m1 container card-panel" style="display: inline-block" ng-if="$ctrl.flagPerfilStripe">

          <div ng-show="$ctrl.flagMostrarTarjetas">
            <h5 class="col s12 m12 purple-text lighten-1 center">Elige tu metodo de pago</h5>
            <div class="col s12 m12" ng-repeat="card in $ctrl.cardsArray">
              <div class="col m12 card hoverable card-mostrar-direcciones" id="{{card.id}}">
                <a href="">
                  <div class="card-content datos-mostrar-direcciones black-text" id="{{card.id}}2" ng-click="$ctrl.selectCard(card)">
                    <p class="center">{{card.brand}} **** **** ****{{card.last4}} </p>
                  </div>
                </a>
                <div class="botones-mostrar-direcciones">
                  <a href="" class=" right red-text col m2" ng-click="$ctrl.confirmarBorrarTarjeta(card)" ng-if="!$ctrl.flagUniqueCard">Borrar</a>
                </div>
              </div>
            </div>
            <a href="" ng-click="$ctrl.flagMostrarTarjetas = false">Agregar nuevo método de pago</a>
          </div>


          <form id="pago" name="pago" ng-if="!$ctrl.flagMostrarTarjetas">
            <h5 class="col m12 purple-text lighten-1 center">Información de pago</h5>
            <div class="input-field col s12 m6">
              <input id="pagoNombre" type="text" class="form-control validate" ng-model="$ctrl.pagoNombre" required>
              <label for="pagoNombre"data-error="No puedes dejar este campo vacío" >Nombre completo</label>
            </div>
            <div class="input-field col s12 m6">
              <input id="pagoTarjetaNumero" type="text" class="form-control validate" ng-model="$ctrl.pagoTarjetaNumero" required>
              <label for="pagoTarjetaNumero"data-error="No puedes dejar este campo vacío" >Numero de tarjeta</label>
            </div>
            <div class="input-field col s12 m3">
              <input id="pagoTarjetaExpMes" type="text" class="form-control validate" ng-model="$ctrl.pagoTarjetaExpMes" required>
              <label for="pagoTarjetaExpMes"data-error="No puedes dejar este campo vacío" >Mes expira</label>
            </div>
            <div class="input-field col s12 m3">
              <input id="pagoTarjetaExpAnio" type="text" class="form-control validate" ng-model="$ctrl.pagoTarjetaExpAnio" required>
              <label for="pagoTarjetaExpAnio"data-error="No puedes dejar este campo vacío" >Año expira</label>
            </div>
            <div class="input-field col s12 m6">
              <input id="pagoTarjetaCcv" type="text" class="form-control validate" ng-model="$ctrl.pagoTarjetaCcv" required>
              <label for="pagoTarjetaCcv"data-error="No puedes dejar este campo vacío" >CCV</label>
            </div>
            <div class="col m12" style="margin-bottom: 50px; margin-top: 40px;">
              <button class="btn col offset-m2" ng-click="$ctrl.agregarPago()">Agregar método de Pagoa</button>
              <a href="" ng-click="$ctrl.flagMostrarTarjetas = true">Atrás</a>
            </div>
          </form>
        </div>
        <div class="col m12 center" style="margin-top: 100px;margin-bottom: 40px;">
          <a href="" class="waves-effect waves-purple lighten-2 btn-flat center" ng-click="$ctrl.segundoPaso = false">Atrás</a>
          <button class="btn" ng-disabled="!$ctrl.cardElegida" ng-click="$ctrl.guardarServicio()">Pedir servicio</button>
        </div>
      </div>
    </div>





  </div>
</div>

<!--<button class="btn col s12 m5 purple waves-purple lighten-2" ng-click="$ctrl.adicionales = true">Adicionales</button>-->

<div class="container row promociones" ng-show="$ctrl.promo">
    <div class="col s12">
        <div class="col s12 m10 offset-m1  card-panel card-promo">
            <h4 class="center">Promociones</h4>
            <div class="col m5">
              <img class="col m8" src="assets/img/regalo.png" alt="">
            </div>


            <div class="col s12 m7 contenido-promo">
              <form id="promociones" name="promociones" novalidate ng-submit="$ctrl.promociones()">
                <div class="input-field col s12 m10">
                  <input id="promo" type="text" class="validate" ng-model="$ctrl.promoCode" required>
                </div>
                <button class="waves-effect waves-light btn hoverable" type="submit" ng-disabled="promociones.$invalid" name="action">Aplicar descuento</button>
              </form>
                <a class="waves-effect waves-light btn hoverable" ng-click="$ctrl.promo = false" ng-model="$ctrl.desc">Atras</a>
            </div>
        </div>
    </div>
</div>


